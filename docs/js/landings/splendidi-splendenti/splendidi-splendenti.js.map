{"version":3,"names":[],"mappings":"","sources":["src/js/landings/splendidi-splendenti/splendidi-splendenti.js"],"sourcesContent":["import LocomotiveScroll from 'locomotive-scroll';\r\nimport Swiper from 'swiper';\r\nimport PainterComponent from './painter/painter.component';\r\n\r\nconst TWEEN = true;\r\n\r\nclass SplendidiSplendenti {\r\n\r\n\tconstructor() {\r\n\t\tthis.initSpazzolino();\r\n\t\tthis.initNonSolo();\r\n\t\tthis.initBanners();\r\n\t\tthis.initMouths();\r\n\t\tthis.initPainter();\r\n\t\tthis.initEmergency();\r\n\t\tthis.initEmoji();\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst scroll = this.getLocomotiveScroll();\r\n\t\t}, 500);\r\n\r\n\t}\r\n\r\n\tinitSpazzolino() {\r\n\t\tconst section = document.querySelector('.section--spazzolino');\r\n\t\tconst swiper = new Swiper(section.querySelector('.swiper-container'), {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tloop: true,\r\n\t\t\teffect: 'fade',\r\n\t\t\tspeed: 1000,\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 2500,\r\n\t\t\t\tdisableOnInteraction: false,\r\n\t\t\t},\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t});\r\n\t\tswiper.on('slideChange', () => {\r\n\t\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\t\tsection.classList.remove(`slide-${i}`);\r\n\t\t\t}\r\n\t\t\tsection.classList.add(`slide-${swiper.realIndex}`);\r\n\t\t\t// console.log(swiper, swiper.realIndex);\r\n\t\t});\r\n\t}\r\n\r\n\tinitNonSolo() {\r\n\t\tconst section = document.querySelector('.section--nonsolo');\r\n\t\tconst swiper = new Swiper(section.querySelector('.swiper-container'), {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tloop: true,\r\n\t\t\teffect: 'fade',\r\n\t\t\tspeed: 1000,\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 2500,\r\n\t\t\t\tdisableOnInteraction: false,\r\n\t\t\t},\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tinitEmergency() {\r\n\t\tconst emergencies = [].slice.call(document.querySelectorAll('[emergency]')).forEach(element => {\r\n\t\t\tlet i = 0;\r\n\t\t\tconst setClass = () => {\r\n\t\t\t\tfor (let j = 0; j < 5; j++) {\r\n\t\t\t\t\telement.classList.remove(`step-${j}`);\r\n\t\t\t\t}\r\n\t\t\t\telement.classList.add(`step-${i}`);\r\n\t\t\t};\r\n\t\t\telement.addEventListener('click', (event) => {\r\n\t\t\t\tif (i < 5) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tsetClass();\r\n\t\t\t\t\tif (i === 5) {\r\n\t\t\t\t\t\tconst box = element.querySelector('.box');\r\n\t\t\t\t\t\tTweenMax.to(box, 0.5, {\r\n\t\t\t\t\t\t\topacity: 0,\r\n\t\t\t\t\t\t\tease: Quad.easeOut,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconst doc = element.querySelector('.document');\r\n\t\t\t\t\t\tTweenMax.to(doc, 0.5, {\r\n\t\t\t\t\t\t\tscale: 1.2,\r\n\t\t\t\t\t\t\trotation: '-10deg',\r\n\t\t\t\t\t\t\tease: Elastic.easeOut.config(1, 0.3),\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tTweenMax.to(element, 1, {\r\n\t\t\t\t\t\tscale: '-=0.01',\r\n\t\t\t\t\t\trotation: `+=${-2 + Math.random() * 4}deg`,\r\n\t\t\t\t\t\tease: Elastic.easeOut.config(1, 0.3),\r\n\t\t\t\t\t\toverwrite: 'all',\r\n\t\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\t\tif (i < 5) {\r\n\t\t\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\t\t\tsetClass();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tTweenMax.to(element, 1.5, {\r\n\t\t\t\t\t\t\t\tscale: 1,\r\n\t\t\t\t\t\t\t\trotation: 0,\r\n\t\t\t\t\t\t\t\tease: Elastic.easeOut.config(1, 0.3),\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t\t} else if (i < 6) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('open link!');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tinitBanners() {\r\n\t\tconst banners = [].slice.call(document.querySelectorAll('.banner')).forEach(element => {\r\n\t\t\tconst inner = element.querySelector('.inner');\r\n\t\t\tconst span = inner.querySelector('span');\r\n\t\t\tconst width = span.offsetWidth;\r\n\t\t\tconst num = Math.ceil(3000 / width);\r\n\t\t\tfor (let i = 0; i < num; i++) {\r\n\t\t\t\tconst node = span.cloneNode();\r\n\t\t\t\tnode.innerHTML = span.innerHTML;\r\n\t\t\t\tinner.appendChild(node);\r\n\t\t\t}\r\n\t\t\tif (TWEEN) {\r\n\t\t\t\tTweenMax.fromTo(inner, width / 50, { x: 0 }, { x: -width, ease: Linear.easeNone, repeat: -1 });\r\n\t\t\t}\r\n\t\t\telement.classList.add('init');\r\n\t\t});\r\n\t}\r\n\r\n\tinitMouths() {\r\n\t\tconst mouths = [].slice.call(document.querySelectorAll('[mouth]')).forEach(element => {\r\n\t\t\tlet i = 0;\r\n\t\t\telement.addEventListener('click', () => {\r\n\t\t\t\tif (i < 5) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tTweenMax.to(element, 1.5, {\r\n\t\t\t\t\t\tscale: '+=0.1',\r\n\t\t\t\t\t\trotation: `+=${-5 + Math.random() * 10}deg`,\r\n\t\t\t\t\t\tease: Elastic.easeOut.config(1, 0.3),\r\n\t\t\t\t\t\toverwrite: 'all',\r\n\t\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\t\tTweenMax.to(element, 1.5, {\r\n\t\t\t\t\t\t\t\tscale: 1,\r\n\t\t\t\t\t\t\t\trotation: 0,\r\n\t\t\t\t\t\t\t\tease: Elastic.easeOut.config(1, 0.3),\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconst flash = element.querySelector('.flash');\r\n\t\t\tif (flash) {\r\n\t\t\t\tconst tweenFlash = () => {\r\n\t\t\t\t\tTweenMax.fromTo(flash, 1, {\r\n\t\t\t\t\t\tscale: 0.05,\r\n\t\t\t\t\t\trotation: '0deg',\r\n\t\t\t\t\t\topacity: 0\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tscale: 1,\r\n\t\t\t\t\t\trotation: '360deg',\r\n\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\tease: Quad.easeOut,\r\n\t\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\t\tTweenMax.to(flash, 2, {\r\n\t\t\t\t\t\t\t\tscale: 1,\r\n\t\t\t\t\t\t\t\trotation: '390deg',\r\n\t\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\t\tease: Linear.easeNone,\r\n\t\t\t\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\t\t\t\ttweenFlash();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ttweenFlash();\r\n\t\t\t}\r\n\t\t\tconst img = element.querySelector('img');\r\n\t\t});\r\n\t}\r\n\r\n\tinitPainter() {\r\n\t\tconst painters = [].slice.call(document.querySelectorAll('[painter]')).map(element => new PainterComponent(element));\r\n\t}\r\n\r\n\tinitEmoji() {\r\n\t\tconst emoji = [].slice.call(document.querySelectorAll('.emoji')).forEach(element => {\r\n\t\t\tif (TWEEN) {\r\n\t\t\t\tconst r = (-10 + Math.floor(Math.random() * 20));\r\n\t\t\t\tTweenMax.fromTo(element, 2, {\r\n\t\t\t\t\trotation: `${r}deg`\r\n\t\t\t\t}, {\r\n\t\t\t\t\trotation: `${r * -1}deg`,\r\n\t\t\t\t\tease: Elastic.easeOut.config(1, 0.3),\r\n\t\t\t\t\tdelay: Math.random(),\r\n\t\t\t\t\trepeat: -1\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetLocomotiveScroll() {\r\n\t\tconst scroll = new LocomotiveScroll({\r\n\t\t\tel: document.querySelector(\"#js-scroll\"),\r\n\t\t\tsmooth: true,\r\n\t\t\tgetSpeed: true,\r\n\t\t\tgetDirection: false,\r\n\t\t\tuseKeyboard: true,\r\n\t\t\tsmoothMobile: true,\r\n\t\t\tinertia: 1,\r\n\t\t\tclass: \"is-inview\",\r\n\t\t\tscrollbarClass: \"c-scrollbar\",\r\n\t\t\tscrollingClass: \"has-scroll-scrolling\",\r\n\t\t\tdraggingClass: \"has-scroll-dragging\",\r\n\t\t\tsmoothClass: \"has-scroll-smooth\",\r\n\t\t\tinitClass: \"has-scroll-init\"\r\n\t\t});\r\n\t\treturn scroll;\r\n\t}\r\n\r\n}\r\n\r\nconst splendidiSplendenti = new SplendidiSplendenti();\r\n"],"file":"docs\\js\\landings\\splendidi-splendenti\\splendidi-splendenti.js"}